[project]
name = "ess-412-512-intro2seismology"
version = "0.1.0"
description = "Introduction to Seismology - Computing labs supplementing Shearer's textbook"
authors = ["Marine Denolle <marinedenolle@uw.edu>"]
channels = ["conda-forge"]
platforms = ["osx-64", "osx-arm64", "linux-64", "win-64"]

[dependencies]
python = ">=3.9,<3.12"
jupyter = ">=1.0"
jupyterlab = ">=3.0"
matplotlib = ">=3.5"
numpy = ">=1.20"
pandas = ">=1.3"
scipy = ">=1.7"
obspy = ">=1.4"
cartopy = ">=0.20"
ipywidgets = ">=7.6"

# Additional packages for better visualization and analysis
seaborn = ">=0.11"
plotly = ">=5.0"

[feature.graduate]
dependencies = {scikit-learn = ">=1.0", h5py = ">=3.0", netcdf4 = ">=1.5"}

[feature.dev]
dependencies = {black = ">=22.0", pytest = ">=7.0", nbval = ">=0.9"}

[tasks]
# Start JupyterLab
lab = "jupyter lab"

# Start Jupyter Notebook
notebook = "jupyter notebook"

# Test notebooks (requires nbval)
test = { cmd = "pytest --nbval notebooks/", depends_on = ["install-dev"] }

# Format code
format = { cmd = "black notebooks/", depends_on = ["install-dev"] }

# Check code formatting
check = { cmd = "black --check notebooks/", depends_on = ["install-dev"] }

[tasks.install-dev]
cmd = "echo 'Dev dependencies installed'"
depends_on = []

[environments]
# Default environment for undergraduates (ESS 412)
default = { solve-group = "default" }

# Graduate environment with additional packages (ESS 512)
graduate = { features = ["graduate"], solve-group = "default" }

# Development environment for instructors
dev = { features = ["graduate", "dev"], solve-group = "default" }
